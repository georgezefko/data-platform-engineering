{
    "name": "local-kind-platform",
    "build": { "dockerfile": "Dockerfile" },
  
    "features": {
      "ghcr.io/devcontainers/features/docker-in-docker:2": {},
      "ghcr.io/devcontainers/features/github-cli:1": {}
    },
    "forwardPorts": [80, 443],
    "portsAttributes": {
      "80": { "label": "ingress http" },
      "443": { "label": "ingress https" }
    },
  
    "containerEnv": {
      "KUBECONFIG": "/home/vscode/.kube/config"
    },
  
    "mounts": [
      "source=${localWorkspaceFolder}/.kube,target=/home/vscode/.kube,type=bind"
    ],
  
    "postCreateCommand": "bash scripts/check-tools.sh",
  
    "customizations": {
      "vscode": {
        "extensions": [
          "hashicorp.terraform",
          "ms-kubernetes-tools.vscode-kubernetes-tools",
          "redhat.vscode-yaml"
        ],
        "settings": {
          "terminal.integrated.defaultProfile.linux": "bash"
        }
      }
    }
  }
  